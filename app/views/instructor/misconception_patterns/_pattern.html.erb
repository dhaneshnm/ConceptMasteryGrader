<div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors" id="misconception_pattern_<%= pattern.id %>">
  <div class="flex items-start justify-between">
    <div class="flex-1">
      <!-- Pattern Header -->
      <div class="flex items-start justify-between mb-3">
        <div class="flex-1">
          <div class="flex items-center space-x-3">
            <h3 class="text-lg font-medium text-gray-900"><%= pattern.name %></h3>
            <% if pattern.severity.present? %>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                           <%= case pattern.severity&.downcase
                               when 'high' then 'bg-red-100 text-red-800'
                               when 'medium' then 'bg-yellow-100 text-yellow-800'
                               when 'low' then 'bg-blue-100 text-blue-800'
                               else 'bg-gray-100 text-gray-800'
                               end %>">
                <%= pattern.severity&.titleize || 'Medium' %>
              </span>
            <% end %>
          </div>
          <p class="text-sm text-gray-600 mt-1">
            <strong>Concept:</strong> <%= pattern.concept %>
          </p>
        </div>
        
        <!-- Actions -->
        <div class="flex items-center space-x-2 ml-4">
          <%= link_to "Edit", 
                      edit_instructor_course_material_misconception_pattern_path(pattern.course_material, pattern),
                      class: "text-blue-600 hover:text-blue-500 text-sm font-medium",
                      data: { turbo: true } %>
          <%= link_to "Delete", 
                      instructor_course_material_misconception_pattern_path(pattern.course_material, pattern),
                      method: :delete,
                      class: "text-red-600 hover:text-red-500 text-sm font-medium",
                      data: { 
                        turbo: true,
                        turbo_confirm: "Are you sure you want to delete this misconception pattern?" 
                      } %>
        </div>
      </div>

      <!-- Signal Phrases -->
      <div class="mb-3">
        <h4 class="text-sm font-medium text-gray-700 mb-2">Signal Phrases:</h4>
        <% if pattern.signal_phrases.present? %>
          <div class="flex flex-wrap gap-2">
            <% pattern.signal_phrases.each do |phrase| %>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-gray-100 text-gray-800">
                "<%= phrase %>"
              </span>
            <% end %>
          </div>
        <% else %>
          <p class="text-sm text-gray-500 italic">No signal phrases defined</p>
        <% end %>
      </div>

      <!-- Recommended Follow-ups -->
      <div>
        <h4 class="text-sm font-medium text-gray-700 mb-2">Recommended Follow-ups:</h4>
        <% if pattern.recommended_followups.present? %>
          <ul class="text-sm text-gray-600 space-y-1">
            <% pattern.recommended_followups.each do |followup| %>
              <li class="flex items-start">
                <span class="text-blue-500 mr-2">â€¢</span>
                <%= followup %>
              </li>
            <% end %>
          </ul>
        <% else %>
          <p class="text-sm text-gray-500 italic">No follow-up recommendations defined</p>
        <% end %>
      </div>

      <!-- Metadata -->
      <div class="mt-4 pt-3 border-t border-gray-100 flex justify-between text-xs text-gray-500">
        <span>Created: <%= pattern.created_at.strftime("%B %d, %Y at %I:%M %p") %></span>
        <% if pattern.updated_at != pattern.created_at %>
          <span>Updated: <%= time_ago_in_words(pattern.updated_at) %> ago</span>
        <% end %>
      </div>
    </div>
  </div>
</div>